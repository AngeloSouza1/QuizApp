<!-- app/views/admin/quizzes/_form.html.erb -->
<%= form_with(model: [:admin, @quiz], local: true, class: 'form-horizontal', multipart: true) do |form| %>
  <% if @quiz.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h4 class="alert-heading"><%= pluralize(@quiz.errors.count, "erro") %> proibiu este quiz de ser salvo:</h4>
      <ul>
        <% @quiz.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group row">
    <%= form.label :title, 'Título', class: 'col-sm-2 col-form-label' %>
    <div class="col-sm-10">
      <%= form.text_field :title, class: 'form-control', placeholder: 'Título do Quiz' %>
    </div>
  </div>

  <div class="form-group row">
    <%= form.label :description, 'Descrição', class: 'col-sm-2 col-form-label' %>
    <div class="col-sm-10">
      <%= form.text_area :description, class: 'form-control', rows: 5, placeholder: 'Descrição do Quiz' %>
    </div>
  </div>

  <div class="form-group row">
    <%= form.label :image, 'Imagem', class: 'col-sm-2 col-form-label' %>
    <div class="col-sm-10">
      <%= form.file_field :image, class: 'form-control' %>
      <% if @quiz.image? %> <!-- Verificação para CarrierWave -->
        <div class="mt-2">
          <%= image_tag @quiz.image.url, class: "img-thumbnail", size: "100x100" %>
          <p><%= link_to 'Remover imagem', remove_image_admin_quiz_path(@quiz), method: :delete, class: 'btn btn-danger btn-sm' %></p>
        </div>
      <% end %>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-10 offset-sm-2">
      <%= form.submit 'Salvar', class: 'btn btn-primary' %>
      <%= link_to 'Voltar', admin_quizzes_path, class: 'btn btn-secondary' %>
    </div>
  </div>
<% end %>

<style>
  .alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 20px;
  }

  .alert-heading {
    font-size: 1.5rem;
    margin-bottom: 10px;
  }

  .form-group {
    margin-bottom: 15px;
  }

  .col-form-label {
    font-weight: bold;
    color: #495057;
  }

  .form-control {
    border-radius: 5px;
    border: 1px solid #ced4da;
    padding: 10px;
    font-size: 1rem;
    color: #495057;
  }

  .form-control:focus {
    border-color: #80bdff;
    outline: 0;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }

  .btn-primary {
    background-color: #204a80;
    border-color: #204a80;
    padding: 10px 20px;
    border-radius: 10px;
    transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .btn-primary:hover {
    background-color: #183a61;
    transform: scale(1.05);
  }
</style>
